<%
const _cols = Array.isArray(cols) ? cols : [];
const _rows = Array.isArray(rows) ? rows : [];
const _base = typeof basePath === 'string' ? basePath : '#';
%>
<div class="overflow-x-auto border rounded bg-white">
  <table class="min-w-full text-sm">
    <thead class="bg-slate-100 text-slate-700">
      <tr>
        <% _cols.forEach(c => { %>
          <th class="text-left px-3 py-2 font-medium"><%= c.label %></th>
        <% }) %>
        <th class="px-3 py-2"></th>
      </tr>
    </thead>
    <tbody>
      <% if (_rows.length === 0) { %>
        <tr><td colspan="<%= _cols.length+1 %>" class="px-3 py-4 text-center text-slate-500">Sem registros</td></tr>
      <% } else { _rows.forEach(r => { %>
        <tr class="border-t">
          <% _cols.forEach(c => { %>
            <td class="px-3 py-2">
              <%= typeof c.render === 'function' ? c.render(r) : r[c.key] %>
            </td>
          <% }) %>
            <td class="px-3 py-2 text-right">
              <form method="POST" action="<%= _base %>/<%= r.id %>?_method=DELETE" onsubmit="return confirm('Remover?')">
                <button class="px-2 py-1 text-red-600 hover:underline">Remover</button>
              </form>
            </td>
        </tr>
      <% }) } %>
    </tbody>
  </table>
</div>
